var C=Object.defineProperty,D=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(s,a,t)=>a in s?C(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,l=(s,a)=>{for(var t in a||(a={}))B.call(a,t)&&b(s,t,a[t]);if(d)for(var t of d(a))F.call(a,t)&&b(s,t,a[t]);return s},c=(s,a)=>D(s,v(a));var A=(s,a,t)=>new Promise((E,i)=>{var r=o=>{try{u(t.next(o))}catch(p){i(p)}},m=o=>{try{u(t.throw(o))}catch(p){i(p)}},u=o=>o.done?E(o.value):Promise.resolve(o.value).then(r,m);u((t=t.apply(s,a)).next())});import{c as _,b as S,j as w,k as I,r as f,l as z,R as n,P,H as T,I as j,a as N,T as h,f as g,m as x,B as H,n as R,o as M}from"./index.2cce01fd.module.js";function O(){const s=_();S();const{openSnackbar:a,closeSnackbar:t}=w(),{phone:E,zaloName:i}=I(),[r,m]=f.exports.useState({fullName:i,phoneNumber:E,email:"",loading:!1}),[u,o]=f.exports.useState({fullName:"",phoneNumber:""}),{mutate:p}=z("post-footer-form",e=>M(e),{onSuccess:e=>{m(c(l({},r),{loading:!1})),e.status?R({data:{account:{account:{success:!0,message:"",error_code:0,data:e==null?void 0:e.data,profile_id:"",message_unread_count:0}}}}).then(()=>{s("/switch-profile",{replace:!0,animate:!0})}):a({position:"top",duration:5e3,action:{onClick:()=>{t()}},icon:!0,text:e==null?void 0:e.message,type:"error"})},onError:e=>{console.log("\u{1F680}: error --> getCustomerByCustomerId:",e)}});f.exports.useEffect(()=>{a({position:"top",duration:2e3,action:{onClick:()=>{t()}},icon:!1,text:"B\u1EA1n c\u1EA7n nh\u1EADp \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin \u0111\u1EC3 ti\u1EBFp t\u1EE5c s\u1EED d\u1EE5ng ch\u1EE9c n\u0103ng n\xE0y",type:"success"})},[]),f.exports.useLayoutEffect(()=>{m(c(l({},r),{fullName:i,phoneNumber:E}))},[E,i]);const k=()=>r.fullName.trim()?!0:(o(c(l({},u),{fullName:"T\xEAn l\xE0 tr\u01B0\u1EDDng b\u1EAFt bu\u1ED9c"})),!1),y=()=>A(this,null,function*(){if(!k())return;const e={displayname:r.fullName,phone_number:r.phoneNumber,email:r.email};m(c(l({},r),{loading:!0})),yield p(e)});return n.createElement(P,{className:"p-register bg-cover py-4 px-2 "},n.createElement(T,{title:"",showBackIcon:!0,backIcon:n.createElement(j,{icon:"zi-home",size:1}),onBackClick:()=>s("/dashboard",{animate:!0,direction:"backward"}),className:"p-booking_headers"}),n.createElement(N,{height:64}),n.createElement(N,{className:"flex justify-center items-center relative"},n.createElement(h,{className:"color_main text-[20px] font-[600] uppercase"},"\u0110\u0103ng k\xED t\xE0i kho\u1EA3n")),n.createElement(N,{className:"p-register_form mt-8 px-4 h-fit"},n.createElement(h,{style:{color:u.fullName.trim()&&"red"}},"H\u1ECD t\xEAn ",n.createElement("span",{className:"text-red"},"*")),n.createElement(g,{placeholder:"Vui l\xF2ng nh\u1EADp h\u1ECD t\xEAn c\u1EE7a b\u1EA1n",className:x("form-input",u.fullName.trim()&&"error"),inputClassName:"capitalize",helperText:u.fullName,value:r.fullName,onChange:e=>{m(c(l({},r),{fullName:e.target.value})),o(c(l({},u),{fullName:""}))}}),n.createElement(h,{className:"mt-2"},"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i ",n.createElement("span",{className:"text-red"},"*")),n.createElement(g,{value:r.phoneNumber,className:x("form-input"),onChange:e=>{m(c(l({},r),{phoneNumber:e.target.value}))},readOnly:!0}),n.createElement(h,{className:"mt-2"},"Email"),n.createElement(g,{value:r.email,placeholder:"Nh\u1EADp email c\u1EE7a b\u1EA1n",className:x("form-input"),type:"text",onChange:e=>{m(c(l({},r),{email:e.target.value}))}})),n.createElement(N,{className:"h-[50px] flex justify-center mt-8 gap-2"},n.createElement(H,{className:"bg-[#04566e] text-[#fff] py-2 px-6 rounded-full h-[40px] font-[600]",onClick:y,loading:r.loading},"\u0110\u0103ng k\xFD")))}export{O as default};
