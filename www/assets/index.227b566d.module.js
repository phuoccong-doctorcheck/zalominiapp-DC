var H=Object.defineProperty,$=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var R=(e,n,s)=>n in e?H(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,L=(e,n)=>{for(var s in n||(n={}))z.call(n,s)&&R(e,s,n[s]);if(k)for(var s of k(n))B.call(n,s)&&R(e,s,n[s]);return e},N=(e,n)=>$(e,q(n));import{r as O,R as j,I as F}from"./index.d22ffaa9.module.js";function G(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function K(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function ie(e){const n=G(e),s=n.getFullYear(),r=n.getMonth(),l=K(e,0);return l.setFullYear(s,r+1,0),l.setHours(0,0,0,0),l.getDate()}const W="Left",_="Right",J="Up",Q="Down",b={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},E={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},I="mousemove",X="mouseup",V="touchend",Z="touchmove",ee="touchstart";function te(e,n,s,r){return e>n?s>0?_:W:r>0?Q:J}function A(e,n){if(n===0)return e;const s=Math.PI/180*n,r=e[0]*Math.cos(s)+e[1]*Math.sin(s),l=e[1]*Math.cos(s)-e[0]*Math.sin(s);return[r,l]}function ne(e,n){const s=o=>{const t="touches"in o;t&&o.touches.length>1||e((c,i)=>{i.trackMouse&&!t&&(document.addEventListener(I,r),document.addEventListener(X,h));const{clientX:a,clientY:u}=t?o.touches[0]:o,d=A([a,u],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:o}),Object.assign(Object.assign(Object.assign({},c),E),{initial:d.slice(),xy:d,start:o.timeStamp||0})})},r=o=>{e((t,c)=>{const i="touches"in o;if(i&&o.touches.length>1)return t;if(o.timeStamp-t.start>c.swipeDuration)return t.swiping?Object.assign(Object.assign({},t),{swiping:!1}):t;const{clientX:a,clientY:u}=i?o.touches[0]:o,[d,D]=A([a,u],c.rotationAngle),T=d-t.xy[0],v=D-t.xy[1],S=Math.abs(T),w=Math.abs(v),M=(o.timeStamp||0)-t.start,P=Math.sqrt(S*S+w*w)/(M||1),C=[T/(M||1),v/(M||1)],x=te(S,w,T,v),Y=typeof c.delta=="number"?c.delta:c.delta[x.toLowerCase()]||b.delta;if(S<Y&&w<Y&&!t.swiping)return t;const y={absX:S,absY:w,deltaX:T,deltaY:v,dir:x,event:o,first:t.first,initial:t.initial,velocity:P,vxvy:C};y.first&&c.onSwipeStart&&c.onSwipeStart(y),c.onSwiping&&c.onSwiping(y);let U=!1;return(c.onSwiping||c.onSwiped||c[`onSwiped${x}`])&&(U=!0),U&&c.preventScrollOnSwipe&&c.trackTouch&&o.cancelable&&o.preventDefault(),Object.assign(Object.assign({},t),{first:!1,eventData:y,swiping:!0})})},l=o=>{e((t,c)=>{let i;if(t.swiping&&t.eventData){if(o.timeStamp-t.start<c.swipeDuration){i=Object.assign(Object.assign({},t.eventData),{event:o}),c.onSwiped&&c.onSwiped(i);const a=c[`onSwiped${i.dir}`];a&&a(i)}}else c.onTap&&c.onTap({event:o});return c.onTouchEndOrOnMouseUp&&c.onTouchEndOrOnMouseUp({event:o}),Object.assign(Object.assign(Object.assign({},t),E),{eventData:i})})},f=()=>{document.removeEventListener(I,r),document.removeEventListener(X,h)},h=o=>{f(),l(o)},g=(o,t)=>{let c=()=>{};if(o&&o.addEventListener){const i=Object.assign(Object.assign({},b.touchEventOptions),t.touchEventOptions),a=[[ee,s,i],[Z,r,Object.assign(Object.assign({},i),t.preventScrollOnSwipe?{passive:!1}:{})],[V,l,i]];a.forEach(([u,d,D])=>o.addEventListener(u,d,D)),c=()=>a.forEach(([u,d])=>o.removeEventListener(u,d))}return c},p={ref:o=>{o!==null&&e((t,c)=>{if(t.el===o)return t;const i={};return t.el&&t.el!==o&&t.cleanUpTouch&&(t.cleanUpTouch(),i.cleanUpTouch=void 0),c.trackTouch&&o&&(i.cleanUpTouch=g(o,c)),Object.assign(Object.assign(Object.assign({},t),{el:o}),i)})}};return n.trackMouse&&(p.onMouseDown=s),[p,g]}function ce(e,n,s,r){return!n.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?n.preventScrollOnSwipe!==s.preventScrollOnSwipe||n.touchEventOptions.passive!==s.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,n)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:r(e.el,n)})}function oe(e){const{trackMouse:n}=e,s=O.exports.useRef(Object.assign({},E)),r=O.exports.useRef(Object.assign({},b)),l=O.exports.useRef(Object.assign({},r.current));l.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},b),e);let f;for(f in b)r.current[f]===void 0&&(r.current[f]=b[f]);const[h,g]=O.exports.useMemo(()=>ne(m=>s.current=m(s.current,r.current),{trackMouse:n}),[n]);return s.current=ce(s.current,r.current,l.current,g),h}const ae=({initialYear:e,value:n,onChange:s})=>{const[r,l]=O.exports.useState(e),f=O.exports.useRef(0),h=t=>{l(t),s(t)},g=oe({onSwiping:t=>m(t)}),m=t=>{f.current=t.deltaX,requestAnimationFrame(()=>p())},p=()=>{const t=f.current,c=50;if(t>c&&r!==new Date().getFullYear()){const a=Math.floor(t/c)*10,u=r-a;u<=new Date().getFullYear()&&h(u)}else if(t<-c){const a=Math.floor(-t/c)*10,u=r+a;h(u)}},o=()=>{const t=new Date().getFullYear(),c=r===t;return(c?[-1,0]:[-1,0,1]).map(a=>{const u=r+a;return c&&a>0?null:j.createElement("div",{key:u,className:`year ${a===0?"active":""}`,onClick:()=>h(u)},u)})};return j.createElement("div",N(L({},g),{className:"year-picker flex items-center justify-between"}),j.createElement(F,{icon:"zi-chevron-left",className:"text-[#04566e] font-bold translate-x-[-15px]"}),j.createElement("div",{className:"years"},o()),j.createElement(F,{icon:"zi-chevron-right",className:"text-[#04566e] font-bold translate-x-[15px]"}))};export{ae as Y,ie as g};
