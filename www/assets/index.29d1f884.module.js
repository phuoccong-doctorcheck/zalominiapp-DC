import{R as r,g as m,h as F,i as le,r as T,T as J}from"./index.2cce01fd.module.js";function _(a,e,i){return Math.min(Math.max(a,e),i)}function R(a){var e=a.value,i=a.min,u=a.max,l=(e-i)/(u-i)*100;return Math.min(Math.max(l,0),100)}var oe=function(e){var i,u=e.position,l=e.filled,f=F("slider-mark");return r.createElement("div",{className:m(f,(i={},i[f+"-filled"]=l,i)),style:{left:u+"%"}})},se=r.forwardRef(function(a,e){var i=a.children,u=a.offset,l=a.width,f=a.marks,x=a.onMouseLeave,E=a.onMouseEnter,M=F("slider-track");return r.createElement("div",{ref:e,className:m(M),onMouseLeave:x,onMouseEnter:E},r.createElement("div",{className:m(M+"-bar"),style:{left:u+"%",width:l+"%"}}),f&&f.map(function(d){return r.createElement(oe,{key:d,position:d,filled:d>=u&&d<=l+u})}),i)});function K(a){var e=a.value,i=a.containerWidth,u=a.min,l=a.max,f=a.step,x=a.precision,E=i?Math.min(Math.max(e,0),i)/i:e,M=E*(l-u),d=(M!==0?Math.round(M/f)*f:0)+u;return x!==void 0?Number(d.toFixed(x)):d}var O=function(e){var i=e.position,u=F("slider-thumb");return r.createElement("div",{className:m(u),style:{left:i+"%"}})},ce=function(e){var i=e.value,u=e.defaultValue,l=e.name,f=e.label,x=e.showValue,E=e.renderValue,M=e.prefix,d=e.suffix,P=e.min,s=P===void 0?0:P,W=e.max,c=W===void 0?100:W,j=e.step,y=j===void 0?1:j,q=e.minRange,C=q===void 0?1:q,z=e.marks,b=z===void 0?!1:z,w=e.onChange,p=F("slider"),B=le(u||0,{value:i}),t=B[0],L=B[1],Q=T.exports.useMemo(function(){return x?E?E(t):Array.isArray(t)?t.join(" - "):t:null},[t,x,E]),I=T.exports.useMemo(function(){if(!Array.isArray(t))return{offset:0,position:R({min:s,max:c,value:t})};var v=R({min:s,max:c,value:t[0]}),n=R({min:s,max:c,value:t[1]});return{offset:v,position:n-v}},[t,s,c]),Y=I.offset,G=I.position,Z=T.exports.useMemo(function(){if(!!b){if(b!==!0)return b.map(function(A){return R({min:s,max:c,value:A})});for(var v=(c-s)/y,n=[],g=0;g<=v;g+=1){var o=s+g*y,h=R({min:s,max:c,value:o});n.push(h)}return n}},[b,s,c,y]),N=T.exports.useRef(!1),H=T.exports.useRef(0),U=T.exports.useRef(null),X=T.exports.useRef(0),ee=function(n){var g=n.x,o=K({value:g,min:s,max:c,step:y});if(!Array.isArray(t))L(o),w==null||w(o);else{var h=t[0],A=t[1];if(X.current===0){var S=_(A-o<C?o+y:A,s,c);if(S-o<C)return;var V=[o,S];L(V),w==null||w(V)}else{var $=_(o-h<C?o-y:h,s,c);if(o-$<C)return;var D=[$,o];L(D),w==null||w(D)}}},k=function(n,g){var o=n.x;cancelAnimationFrame(H.current),H.current=requestAnimationFrame(function(){if(U.current){var h=U.current.getBoundingClientRect();if(h.width&&h.height){var A=_((o-h.left)/h.width,0,1);if(g)if(Array.isArray(t)){var S=t[0],V=t[1],$=(S+V)/2,D=K({value:A,min:s,max:c,step:y});X.current=D<$?0:1}else X.current=0;ee({x:A})}}})},ae=function(n){N.current=!0,k({x:n.clientX,y:n.clientY},!0)},ne=function(n){N.current&&k({x:n.clientX,y:n.clientY})},re=function(){N.current=!1},te=function(n){N.current=!0,k({x:n.touches[0].clientX,y:n.touches[0].clientY},!0)},ie=function(n){n.cancelable&&n.preventDefault(),N.current=!0,k({x:n.touches[0].clientX,y:n.touches[0].clientY})},ue=function(){N.current=!1};return r.createElement("div",{className:m(p+"-wrapper")},(f||x)&&r.createElement("div",{className:m(p+"-header")},r.createElement(J,{className:m(p+"-label")},f),r.createElement(J,{size:"small",bold:!0,className:m(p+"-value")},Q)),r.createElement("div",{className:m(p+"-content")},M&&r.createElement("div",{className:m(p+"-prefix")},M),r.createElement("div",{role:"presentation",className:m(p+"-handler"),onMouseDown:ae,onMouseMove:ne,onMouseUp:re,onTouchStart:te,onTouchMove:ie,onTouchEnd:ue},r.createElement(se,{ref:U,width:G,offset:Y,marks:Z},Array.isArray(t)&&r.createElement(O,{position:Y}),r.createElement(O,{position:Y+G}))),d&&r.createElement("div",{className:m(p+"-suffix")},d)),Array.isArray(t)?r.createElement(r.Fragment,null,r.createElement("input",{type:"hidden",name:l?l+"_from":void 0,value:t[0]}),r.createElement("input",{type:"hidden",name:l?l+"_to":void 0,value:t[1]})):r.createElement("input",{type:"hidden",name:l,value:t}))},me=ce;export{me as S};
